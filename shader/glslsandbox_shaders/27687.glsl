{"code": "precision highp float;\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\n\nfloat pi = 3.141592653589;\n\n\nfloat ball1(vec2 p, float k) {\n    vec2 r = vec2(p.x + cos(time * 0.8*k) * 0.3, p.y + sin(2.0*time * (k-3.0)) * 0.6);\n \n//r *= vec2( sin(0.1*time), cos(0.3*time));\n \n \nfloat rotCurve = 2.0*pi*sin(0.1*time) + (0.0) + 10.0*cos(time/400.0 + 0.02*((k-2.0))*sin(time)) + 10.0*sin(time/200.0-0.002*(-k+2.0)*sin(0.05*(6.0*k-1.0)*time));\n \nmat2 rot = mat2(cos(rotCurve), -sin(rotCurve), sin(rotCurve), cos(rotCurve));\n \n\t\n\tmat3 rot3 = mat3(cos(rotCurve), -sin(rotCurve), 1.0, sin(rotCurve), cos(rotCurve), 1.0, 1.2*sin(2.0*k*time), 0.3*sin(1.0*time), 1.0);\n\tvec3 r3 = vec3(r, 1.0);\n\t\n\t\nr = rot*r;\n \n\tr = (rot3*r3).xy;\n\t\n \n    return smoothstep(0.0, 1.0, 0.08 / length(0.3*r-0.3*(k)+1.0));\n}\n\n\n\n\nfloat ball2(vec2 p, float k) {\n\t\n\tfloat time2  = time - 30.0;\n\t\n    vec2 r = vec2(p.x + cos(time2 * 0.8*k) * 0.3, p.y + sin(2.0*time2 * (k-3.0)) * 0.6);\n \n//r *= vec2( sin(0.1*time), cos(0.3*time));\n \n \nfloat rotCurve = 2.0*pi*sin(0.1*time2) + (0.0) + 10.0*cos(time2/40.0 + 0.02*((k-2.0))*sin(6.0*cos(time2*0.3*sin(0.001*time2)))) + 10.0*sin(time2/200.0-0.002*(-k+2.0)*sin(0.05*(6.0*k-1.0)*time2));\n \nmat2 rot = mat2(cos(rotCurve), -sin(rotCurve), sin(rotCurve), cos(rotCurve));\n \n\t\n\tmat3 rot3 = mat3(cos(rotCurve), -sin(rotCurve), 1.0, sin(rotCurve), cos(rotCurve), 1.0, 1.2*sin(2.0*k*time2), 0.3*sin(1.0*time2), 1.0);\n\tvec3 r3 = vec3(r, 1.0);\n\t\n\t\nr = rot*r;\n \n\tr = (rot3*r3).xy;\n\t\n \n    return smoothstep(0.0, 1.0, 0.08 / pow(length(0.5*r-0.7*(k)+1.0),0.8));\n}\n\n\n\nvoid main(void) {\n    vec2 q = gl_FragCoord.xy / resolution.xy;\n    vec2 p = -16.0 + 32.0 * q;\n\t\n    p.x *= resolution.x / resolution.y;\n\n\tp.x -= 16.0;\n\n\tfloat col = 0.0;\n    for (int i = 1; i <= 40; ++i) {\n    col += ball1(p, 0.08*float((i*2-30)));\n    }\n \n    col *= 1.2;\n    gl_FragColor = vec4(col*0.2, col * 0.1, col, 1.0);\n\n\t\n\t\n\n\tp.x += 25.0;\ncol = 0.0;\n    for (int i = 1; i <= 60; ++i) {\n    col += ball2(p, 0.07*float((i*2+10)));\n    }\n \n    col *= 0.7;\n    gl_FragColor += vec4(col*1.0, col * 0.5, col*0.2, 1.0);\n\n\t\n\t\n\t\n\t\n\t\n}", "user": "79e39d9", "parent": null, "id": "27687.1"}