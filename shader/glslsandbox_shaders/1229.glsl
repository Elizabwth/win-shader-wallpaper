{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\n// An attempt at Quilez's warping (domain distortions):\n// http://iquilezles.org/www/articles/warp/warp.htm\n// \n// Not as good as his, but still interesting.\n// @SyntopiaDK, 2012\n\n\n\nfloat rand(vec2 co){\n\t// implementation found at: lumina.sourceforge.net/Tutorials/Noise.html\n\treturn fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat noise2f( in vec2 p )\n{\n\tvec2 ip = vec2(floor(p));\n\tvec2 u = fract(p);\n\t// http://www.iquilezles.org/www/articles/morenoise/morenoise.htm\n\tu = u*u*(3.0-2.0*u);\n\t//u = u*u*u*((6.0*u-15.0)*u+10.0);\n\t\n\tfloat res = mix(\n\t\tmix(rand(ip),  rand(ip+vec2(1.0,0.0)),u.x),\n\t\tmix(rand(ip+vec2(0.0,1.0)),   rand(ip+vec2(1.0,1.0)),u.x),\n\t\tu.y)\n\t;\n\treturn res*res;\n\t//return 2.0* (res-0.5);\n}\n\nfloat fbm(vec2 c) {\n\tfloat f = 0.0;\n\tfloat w = 1.0;\n\tfor (int i = 0; i < 8; i++) {\n\t\tf+= w*noise2f(c);\n\t\tc*=2.0;\n\t\tw*=0.5;\n\t}\n\treturn f;\n}\n\n\n\nvec2 cMul(vec2 a, vec2 b) {\n\treturn vec2( a.x*b.x -  a.y*b.y,a.x*b.y + a.y * b.x);\n}\n\nfloat pattern(  vec2 p, out vec2 q, out vec2 r )\n{\n\tq.x = fbm( p  +0.00*time);\n\tq.y = fbm( p + vec2(1.0));\n\t\n\tr.x = fbm( p +1.0*q + vec2(1.7,9.2)+0.15*time );\n\tr.y = fbm( p+ 1.0*q + vec2(8.3,2.8)+0.126*time);\n\t//r = cMul(q,q+0.1*time);\n\treturn fbm(p +1.0*r + 0.0* time);\n}\n\nconst vec3 color1 = vec3(0.101961,0.619608,0.666667);\nconst vec3 color2 = vec3(0.666667,0.666667,0.498039);\nconst vec3 color3 = vec3(0,0,0.164706);\nconst vec3 color4 = vec3(0.666667,1,1);\nvoid main() {\n\tvec2 q;\n\tvec2 r;\n\tvec2 c = 1000.0*gl_FragCoord.xy/ resolution.xy;\n\tfloat f = pattern(c*0.01,q,r);\n\tvec3 col = mix(color1,color2,clamp((f*f)*4.0,0.0,1.0));\n\tcol = color2;\n\tcol = mix(col,color3,clamp(length(q),1.0,1.0));\n\tcol = mix(col,color4,clamp(length(r.x),0.0,1.0));\n\tgl_FragColor =  vec4((0.2*f*f*f+0.6*f*f+0.5*f)*col,1.0);\n}\n\n", "user": "fa76b80", "parent": "/e#1157.0", "id": "1229.0"}