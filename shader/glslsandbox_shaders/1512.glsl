{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nfloat halfpi = asin(1.0);\nfloat pixel;\n\nfloat circle(vec2 uv, vec2 pos, float d){\n\t// Modified to add anti-aliasing.\n\treturn 1.0 - smoothstep(d, d + pixel * 1.5, length(uv - pos));\n}\n\nvoid main( void ) {\n\n\tpixel = 1.0 / resolution.y;\n\t\n\tvec2 aspect = vec2(resolution.x/resolution.y,1.);\n\n\tvec2 uv = 0.5 + ( gl_FragCoord.xy / resolution.xy -0.5 )*aspect;\n\t\n\tvec2 mouse = 0.5 + (mouse-0.5)*aspect;\n\n\tvec2 pos1 = floor(uv * 4.0) * 0.25 + 0.125;\n\t\n\tvec2 d1;\n\t\n\tif (distance(mouse, pos1) < 0.07) {\n\t\td1 = (mouse - pos1) / 0.07;\n\t} else {\n\t\tfloat w1 = atan(mouse.x-pos1.x, mouse.y-pos1.y);\n\t\td1 = vec2(sin(w1), sin(w1 + halfpi));\n\t}\n\t\n\tfloat layer1 = circle(uv, pos1, 0.1) - circle(uv, pos1, 0.09);\n\tlayer1 += circle(uv, pos1 + d1*0.07, 0.015);\n\t\n\tgl_FragColor = vec4(layer1);\n\n\t\n\tgl_FragColor.a = 1.0;\n\n}", "user": "682a219", "parent": "/e#1496.1", "id": "1512.1"}