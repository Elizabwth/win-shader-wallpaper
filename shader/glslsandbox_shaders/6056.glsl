{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nmat2 m = mat2( 0.90,  0.110, -0.70,  1.00 );\n\nfloat hash( float n )\n{\n    return fract(sin(n)*758.5453);\n}\n\nfloat noise( in vec3 x )\n{\n    vec3 p = floor(x);\n    vec3 f = fract(x); \n    //f = f*f*(3.0-2.0*f);\n    float n = p.x + p.y*57.0 + p.z*800.0;\n    float res = mix(mix(mix( hash(n+  0.0), hash(n+  1.0),f.x), mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y),\n\t\t    mix(mix( hash(n+800.0), hash(n+801.0),f.x), mix( hash(n+857.0), hash(n+858.0),f.x),f.y),f.z);\n    return res;\n}\n\nfloat fbm( vec3 p )\n{\n    float f = 0.0;\n    f += 0.50000*noise( p ); p = p*2.02;\n    f -= 0.25000*noise( p ); p = p*2.03;\n    f += 0.12500*noise( p ); p = p*2.01;\n    f += 0.06250*noise( p ); p = p*2.04;\n    f -= 0.03125*noise( p );\n    return f/0.984375;\n}\n\nfloat cloud(vec3 p)\n{\n\tp-=fbm(vec3(p.x,p.y,0.0)*0.5)*2.25;\n\t\n\tfloat a =0.0;\n\ta-=fbm(p*3.0)*2.2-1.1;\n\tif (a<0.0) a=0.0;\n\ta=a*a;\n\treturn a;\n}\n\nvec3 f2(vec3 c)\n{\n\tc+=hash(gl_FragCoord.x+gl_FragCoord.y*9.9)*0.01;\n\t\n\t\n\tc*=0.7-length(gl_FragCoord.xy / resolution.xy -0.5)*0.7;\n\tfloat w=length(c);\n\tc=mix(c*vec3(1.0,1.0,1.6),vec3(w,w,w)*vec3(1.4,1.2,1.0),w*1.1-0.2);\n\treturn c;\n}\n\nvoid main( void ) {\n\n\tvec2 position = ( gl_FragCoord.xy / resolution.xy ) ;\n\tposition.y+=0.2;\n\n\tvec2 coord= vec2((position.x-0.5)/position.y,1.0/(position.y+0.2));\n\t\n\t\n\t\n\t//coord+=fbm(vec3(coord*18.0,time*0.001))*0.07;\n\tcoord+=time*0.1;\n\t\n\t\n\tfloat q = cloud(vec3(coord*1.0,0.222));\n\n\t\n\t\n\nvec3 \tcol =vec3(0.5,0.5,0.6) + vec3(q*vec3(0.9,0.9,0.9));\n\tgl_FragColor = vec4( f2(col), 1.0 );\n\n}", "user": "46aae4f", "parent": "/e#6040.1", "id": "6056.1"}