{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nvec2 mul(vec2 x, vec2 y) {\n\treturn vec2(x[0] * y[0] - x[1] * y[1], x[0] * y[1] + x[1] * y[0]);\n}\n\nvec2 conj(vec2 x) {\n    return vec2(x[0], -x[1]);\n}\n\nfloat norm(vec2 x) {\n    return x[0] * x[0] + x[1] * x[1];\n}\n\nvec2 inv(vec2 x) {\n\treturn conj(x) / norm(x);\n}\n\nvec2 div(vec2 x, vec2 y) {\n\treturn mul(x, inv(y));\n}\n\n\n// https://gist.github.com/eieio/4109795\nvec4 hsv_to_rgb(float h, float s, float v, float a)\n{\n\tfloat c = v * s;\n\th = mod((h * 6.0), 6.0);\n\tfloat x = c * (1.0 - abs(mod(h, 2.0) - 1.0));\n\tvec4 color;\n\tif (0.0 <= h && h < 1.0) color = vec4(c, x, 0.0, a);\n\telse if (1.0 <= h && h < 2.0) color = vec4(x, c, 0.0, a);\n\telse if (2.0 <= h && h < 3.0) color = vec4(0.0, c, x, a);\n\telse if (3.0 <= h && h < 4.0) color = vec4(0.0, x, c, a);\n\telse if (4.0 <= h && h < 5.0) color = vec4(x, 0.0, c, a);\n\telse if (5.0 <= h && h < 6.0) color = vec4(c, 0.0, x, a);\n\telse color = vec4(0.0, 0.0, 0.0, a);\n\tcolor.rgb += v - c;\n\treturn color;\n}\n\nvec4 checker(vec2 x) {\n\tfloat d = mod(floor(x[0]) + floor(x[1]), 2.0);\n\treturn hsv_to_rgb(min(abs(x[0]) * 0.1 + 0.85, 1.0) + 0.6, 1.0, 0.5 + 0.5 * d, 1.0);\n}\n\nvoid main(void){\n\tvec2 m = 5.0 * vec2(mouse.x * 2.0 - 1.0, mouse.y * 2.0 - 1.0);\n\t//vec2 m = vec2(0, 1);\n\tvec2 p = 5.0 * (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);\n\tp = div(mul(p, m), p-vec2(1, 0));\n\tgl_FragColor = checker(p);\n}", "user": "8352793", "parent": null, "id": "27683.2"}