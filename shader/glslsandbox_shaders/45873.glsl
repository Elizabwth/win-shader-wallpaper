{"code": "/*\n * Original shader from: https://www.shadertoy.com/view/MsVyRh\n */\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// glslsandbox uniforms\nuniform float time;\nuniform vec2 resolution;\n\n// shadertoy globals\nfloat iTime;\nvec3  iResolution;\n\n// --------[ Original ShaderToy begins here ]---------- //\nvec2 path(float t) {\n    float a = sin(t*.2+1.5),b=sin(t*.2);\n    return vec2(a*2., a*b);\n}\n\nmat2 r2d(float a) {\n    float c=cos(a),s=sin(a);\n    return mat2(c, s, -s, c);\n}\n\nvoid mo(inout vec2 p, vec2 d) {\n    p.x = abs(p.x) - d.x;\n    p.y = abs(p.y) - d.y;\n    if(p.y>p.x)p=p.yx;\n}\n\nfloat g=0.;\nfloat de(vec3 p) {\n   \n    vec3 q = p;\n    q.x += q.z*.1;\n    q.z += iTime*.1;\n    q = mod(q-1., 2.)-1.;\n    float s = length(q) - .001 + sin(iTime*30.)*.005;\n    \n    p.xy -= path(p.z);\n    \n    p.xy *= r2d(p.z*.9);\n    mo(p.xy, vec2(.6, .12));\n    mo(p.xy, vec2(.9, .2));\n    \n    p.xy *= r2d(p.z*.5);\n    \n    mo(p.zy, vec2(.1, .2));\n    p.x = abs(p.x) - .4;\n    float d = length(p.xy) - .02 - (.5+.5*sin(p.z))*.05;\n    \n    d = min(d, s);\n    \n    \n    g+=.01/(.01+d*d);\n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy -.5;\n    uv.x*=iResolution.x/iResolution.y;\n    \n    float dt = iTime * 6.;\n    vec3 ro = vec3(0,0, -3. + dt);\n    vec3 ta = vec3(0, 0, dt);\n    \n    ro.xy += path(ro.z);\n    ta.xy += path(ta.z);\n    \n    vec3 fwd = normalize(ta -ro);\n    vec3 left = cross(vec3(0,1,0),fwd);\n    vec3 up = cross(fwd, left);\n    \n    vec3 rd = normalize(fwd + left*uv.x+up*uv.y);\n\n    vec3 p;\n    float ri,t=0.;\n    for(float i=0.;i<1.;i+=.01) {\n    \tri = i;\n        p=ro+rd*t;\n        float d = de(p);\n        if(d<.001) break;\n        t+=d*.2;\n    }\n\tvec3 bg =  vec3(.2, .6, .6)*.2; \n    vec3 col = mix(vec3(.4, .5, .5), bg,ri);\n    col += g*.02;\n    \n    col = mix(col, bg, 1.-exp(-.01*t*t));\n\n    fragColor = vec4(col,1.0);\n}\n// --------[ Original ShaderToy ends here ]---------- //\n\nvoid main(void)\n{\n  iTime = time;\n  iResolution = vec3(resolution, 0.0);\n\n  mainImage(gl_FragColor, gl_FragCoord.xy);\n}", "user": "d28ac5f", "parent": null, "id": "45873.0"}