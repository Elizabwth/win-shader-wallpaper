{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nvarying vec2 surfacePosition;\n\nvec2 random2f( vec2 seed ) {\n\tfloat t = sin(seed.x+seed.y*1e3);\n\treturn vec2(fract(t*1e5), fract(t*1e6));\n}\n\nfloat cvoronoi( in vec2 x )\n{\n    vec2 p = floor( x );\n    vec2  f = fract( x );\n\n    float res = 1.0;\n    for( int j=-1; j<=1; j++ )\n    for( int i=-1; i<=1; i++ )\n    {\n        vec2 b = vec2( i, j );\n\tvec2 o = random2f( p + b );\n        vec2 r = vec2( b ) - f + o;\n        float d = dot( r,r );\n\tres = min(res,(abs(fract(d*6.0-time*0.5 +o.x*8.)-.5)*8.+d*.8)/sqrt(d*d+1.));\n    }\t\n    return res;\n}\n\nvoid main( void )\n{\n\tgl_FragColor = vec4(vec3(.2+cvoronoi(surfacePosition*3.*(sin(time*.15)+1.2))*.5),1.0);\n}", "user": "15f043a", "parent": "/e#5897.0", "id": "7597.0"}