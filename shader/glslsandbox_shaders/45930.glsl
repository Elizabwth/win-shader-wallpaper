{"code": "//--- loading circle\n// by Catzpaw 2018\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\n#define InnerRadius .81\n#define OuterRadius .99\n#define Bokeh1 .005\n\n#define Speed 24.\n#define Split 24.\n#define Thickness .8\n#define Bokeh2 .1\n\n/*\n#define Speed 480.\n#define Split 240.\n#define Thickness 1.0\n#define Bokeh2 .1\n*/\n\nvec2 polar(vec2 p){float l=pow(length(p),.4),a=atan(-p.x,p.y);return vec2(a,l);}\nfloat ribbon(vec2 p){return smoothstep(InnerRadius,InnerRadius+Bokeh1,p.y)*smoothstep(OuterRadius+Bokeh1,OuterRadius,p.y);}\nfloat stripe(vec2 p){p.x=mod(p.x+floor(time*Speed)*6.28318/Split,6.28318);\n\treturn smoothstep(Thickness+Bokeh2,Thickness,abs(cos(p.x*Split*.5)))*(1.-floor(p.x*Split/6.28318)/Split);}\n\nvoid main(void){\n\tvec2 p=polar((gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y));\n\tfloat v=ribbon(p)*stripe(p);\n\tgl_FragColor=vec4(mix(vec3(0),vec3(1.0,1.5,2.0),v),v);\n}\n", "user": "7e5d259", "parent": null, "id": "45930.1"}