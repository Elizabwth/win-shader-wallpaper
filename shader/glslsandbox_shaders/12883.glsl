{"code": "#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float time;\nuniform vec2 resolution;\n\nvoid main( void ) {\n\n\tvec2 position = gl_FragCoord.xy / resolution.yy;\n\n\tfloat walls = clamp(1.5-abs(position.y - 0.3)*100.,0.,1.);\n\twalls += clamp(1.5-abs(position.y - 0.34)*100.,0.,1.);\n\twalls += clamp(1.5-abs(position.y - 0.66)*100.,0.,1.);\n\twalls += clamp(1.5-abs(position.y - 0.7)*100.,0.,1.);\n\n\tvec2 pill;\n\tpill.x = mod(position.x + time,1./4.) - 0.125;\n\tpill.y = position.y - 0.5;\n\tfloat pillrad = 0.03;\n\tfloat pillbody = clamp( (pillrad - length( pill ) ) * 400.,0.,1.);\n\tpillbody *= (position.x < 0.5) ? 0. : 1.;\n\n\tvec2 pacCtr = vec2( 0.5,0.5 );\n\tfloat pacRad = 0.1;\n\tvec4 pacColor = vec4(1,1,0,0);\n\tfloat pacBody = clamp( ( pacRad - length(position - pacCtr) ) * 500.0, 0., 1.);\n\tfloat pacMouthAng = 1. - sin( (time * 8. ) * 3.1415926535) * 0.25 - 0.25;\n\tvec2 pm1 = vec2( sin( pacMouthAng ), cos( pacMouthAng ) ) * 0.5;\n\tfloat pacMouth = dot((position - pacCtr), pm1 ) / 100.;\n\tpacMouth = dot(normalize(position - pacCtr), normalize( vec2(1.,0.) ) ) > pacMouthAng ? 1. : 0.;\n\tvec4 pac = clamp( pacColor * pacBody - pacMouth, 0., 1. );\n\n\tgl_FragColor = pac + vec4(0.,0.,walls,1.) + (1.- pac.x) * vec4(pillbody,pillbody,pillbody,0);\n}\n", "user": "f1a0552", "parent": "/e#79", "id": "12883.0"}