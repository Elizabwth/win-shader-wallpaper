{"code": "/*\n * Original shader from: https://www.shadertoy.com/view/XsGyRm\n */\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// glslsandbox uniforms\nuniform float time;\nuniform vec2 resolution;\n\n// shadertoy globals\nfloat iTime;\nvec3  iResolution;\n\n// --------[ Original ShaderToy begins here ]---------- //\n#define R       iResolution\n#define P(i)    vec2( cos(k*(i)+T/10.), sin(k*(i)+T/10.) )           // heptastar vertex i\n#define S(D,w)  smoothstep( 3., 0.,  length(D)*R.y - w )             // smooth draw\n#define F(t,dt) smoothstep(.2,-.2, abs(t+.5-mod(T/3.-2.,14.))-dt/2.) // fading\nfloat   T , k = 6.28*3./7.;                                // angle between heptastar vertices\n\nfloat line(vec2 p, vec2 a, vec2 b) {                       // draw a line\n    b -= a; p -= a;\n    return S( p - b * clamp(dot(b,p)/dot(b,b), 0., 1.) , 0. );\n}\n\nvec2 point(float n) {                                      // point(n,t) on heptastar \n    float t = mod(T/5.+ n*7./12.,7.), i = floor(t);\n    return mix( P(i), P(i+1.), .5-.5*cos(3.14*fract(t)) );\n}\n\nvoid mainImage( out vec4 O,  vec2 U )\n{\n    U = ( U+U - R.xy ) / R.y;\n    T = iTime;\n    O -= O;\n    for (float i=0.; i<7.; i++)\n        O.rga += line( U, P(i), P(i+1.) ) * F(9.,7.);      // yellow lines\n\n    for (float n=0.; n<12.; n++) {  \n        vec2 P0 = point(n),\n             P1 = point(n+4.),\n             P2 = point(n+3.);\n            \n        O.a += S( P0-U, 8. ) ;                             // dots\n        O.ra += line( U, P0, P1 ) * (F(2.,1.)+F(9.,3.));   // triangles\n        O.ba += line( U, P0, P2 ) * (F(4.,1.)+F(9.,5.));   // squares\n    }\n    O += (1.-O.a) * .7;                                    // background\n}\n// --------[ Original ShaderToy ends here ]---------- //\n\nvoid main(void)\n{\n  iTime = time;\n  iResolution = vec3(resolution, 0.0);\n\n  gl_FragColor = vec4(0.0);\n  mainImage(gl_FragColor, gl_FragCoord.xy);\n  gl_FragColor.a = 1.0;\n}", "user": "9556489", "parent": null, "id": "45996.0"}