{"code": "//check board by uggway\n\n// yay faux perspective -jz\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\nvarying vec2 surfacePosition;\n//#define CM \n\nvec3 check(vec2 p, float y, float s)\n{\n\tfloat c = clamp(floor(mod(p.x/s+floor(p.y/s),2.0))*s,0.1,0.9)*2.0;\n\tc *= c;\n\treturn vec3(0.3+0.5*c, 0.4+0.6*c, 0.5+0.2*c);\n}\n\nvec3 px( vec2 pos ) {\n\n\tvec2 p = -1.0 + 2.0 * ( pos / resolution.xy  );\n\tp.x *=  resolution.x/resolution.y;\n\n\tvec3 col = vec3(1.0);\n\t\n\tfloat y = p.y + (p.y + (cos((cos(time*0.2+p.y)-time+p.x))*0.5));\n\tvec2 uv;\n\tuv.x = p.x/y;\n\tuv.y = 1.0/abs(y)+time/3.0;\n\tcol = check(uv, y, 0.50)*pow(length(y), 0.15);\n\treturn col;\n}\n\nvoid main( void ) {\n\tconst float Xsamples = 10.0;\n\tconst float Ysamples = 10.0;\n\tfloat blur = 1.5 + resolution.y * 0.075 * pow((1.0-cos(time*0.38625))/2.0, 3.0);\n\n\tvec3 col = vec3(0.0, 0.0, 0.0);\n\tfor (float x=0.0; x<Xsamples; x++) {\n\t\tfor (float y=0.0; y<Ysamples; y++) {\n\t\t\tfloat seed = sin(time * 413.5324) + cos(gl_FragCoord.x * 742.5894) - sin(gl_FragCoord.y * 314.732);\n\t\t\tfloat xo = x - 0.5 + mod(seed * 7274.2345, 1.0);\n\t\t\tfloat yo = y - 0.5 + mod(seed * 5193.5932, 1.0);\n\t\t\tcol += px(vec2(gl_FragCoord.x + (xo/Xsamples-0.5) * blur,\n\t\t\t\t       gl_FragCoord.y + (yo/Ysamples-0.5) * blur));\n\t\t}\n\t}\n\t\n\tgl_FragColor = vec4( col / Xsamples / Ysamples, 1.0 );\n}", "user": "b6b802", "parent": "/e#12194.0", "id": "12202.1"}