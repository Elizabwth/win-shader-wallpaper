{"code": "//--- mucous membrane\n// by Catzpaw 2018\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 resolution;\n\n#define D .6\n\nfloat wave(vec2 p){float v=sin(p.x+sin(p.y)+sin(p.y*.43));return v*v;}\n\nconst mat2 rot=mat2(.5,.86,-.86,.5);\nfloat map(vec2 p){float v=0.;\n\tv+=wave(p);p.x+=time;p*=rot;v+=wave(p);p.x+=time*.17;p*=rot;v+=wave(p);\n\tv=abs(1.5-v);return v;\n}\n\nvoid main( void ) {\n\tvec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n\tvec2 p=normalize(vec3(uv.xy,2.3)).xy*19.;p.y+=time*2.;\n\tfloat v=map(p);\n\tvec3 c=mix(vec3(.8,.4,.5),vec3(1.,.3+map(p*2.5)*.1,.5),v);\n\tvec3 n=normalize(vec3(v-map(vec2(p.x+D,p.y)),v-map(vec2(p.x,p.y+D)),-D));\n\tvec3 l=normalize(vec3(.4,.4,-1.5));\n\tv=dot(l,n)+pow(dot(l,n),80.);\n\tc.rg*=v;\n//\tc.b*=v;\t//WTF!?\n\tgl_FragColor = vec4(c,1);\n}", "user": "7e5d259", "parent": null, "id": "45318.16"}