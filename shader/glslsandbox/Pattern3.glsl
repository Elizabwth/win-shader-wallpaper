{"code": "///@ME\n//Wanna see more nice HQ patterns here!\n\n// rotwang @mod* very nice!\n// ME @mod* \n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\nuniform vec2 reyboard;\n\nconst float PI = 3.1415926535;\nconst float TWOPI = PI*2.0;\nconst mat2 m = mat2( 0.80,  0.60, -0.60,  0.80 );\n\nvec2 rotate(vec2 point, float rads) {\n\tfloat cs = cos(rads);\n\tfloat sn = sin(rads);\n\treturn point * mat2(cs, -sn, sn, cs);\n}\n\nfloat hash( float n )\n{\n    return fract(sin(n+sqrt(time*.00001))*43758.5453);\n}\n\nfloat noise( in vec2 x )\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n    f = f*f*(3.0-2.0*f);\n    float n = p.x + p.y*57.0;\n    float res = mix(mix( hash(n+  0.0), hash(n+  1.0),f.x), mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);\n    return res;\n}\n\nfloat fbm( vec2 p )\n{\n    float f = 0.0;\n    f += 0.5000*noise( p ); p = m*p*2.02;\n    f += 0.25000*noise( p ); p = m*p*2.03;\n    f += 0.12500*noise( p ); p = m*p*2.01;\n    f += 0.06250*noise( p ); p = m*p*2.04;\n    f += 0.03125*noise( p );\n    return f/0.984375;\n}\n\n\nfloat unsin(float t)\n{\n\treturn sin(t)*0.5+0.5;\n}\n\nfloat curve( float x)\n{\n\treturn smoothstep( 0.5, 0.0, cos(x*PI) );\n}\n\nfloat thing(vec2 pos) \n{\n\tfloat n = fbm(pos*0.4);\n\tfloat offset = 0.;\n\tfloat row = floor((pos.y)/2.);\n\tif (mod(row, 2.0) < 1.0)\n\t\toffset = 1.0 * n;\n\t\n\tfloat a = curve(pos.x + offset + n);\n\tfloat b = curve(pos.y);\n\tfloat c = (a * b);\n\t\n\tfloat d = curve(pos.x + offset - n);\n\tfloat e = curve(pos.y);\n\tfloat f = (d * e + offset + n) * (sqrt(d*e*fbm(pos * 0.1 - 14.)));\n\treturn smoothstep(2.0 - n * fbm(pos*10.), c - n, f + n);\n}\n\nvoid main(void) \n{\n\tvec2 position = ( gl_FragCoord.xy / resolution );\n\tvec2 world = position * 10.0;\n\tworld.x *= resolution.x / resolution.y;\n\tworld += time + rotate(world, radians(time));\n\tfloat dist = thing(world);\n\n\tgl_FragColor = vec4( dist, dist, dist, 1.0 );\n}\n", "user": "6cc5fb3", "parent": "/e#3465.0", "id": "3466.0"}