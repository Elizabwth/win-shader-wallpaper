{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.14159\n#define TAU 6.28318\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nfloat arc(vec2 pos,vec4 btrir,float ang,vec2 p);\n\nvoid main( void ) {\n\n\tvec2 p = gl_FragCoord.xy;\n\n\tfloat color = 0.0;\n\t\n\tcolor += arc(resolution/2.,vec4(0.0,PI/2.,32,48),time*1.25,p);\n\tcolor += arc(resolution/2.,vec4(0.0,PI/2.,48,64),time,p);\n\tcolor += arc(resolution/2.,vec4(0.0,PI/2.,64,80),time/2.25,p);\n\tcolor += arc(resolution/2.,vec4(0.0,PI/2.,80,96),time/2.5,p);\n\tcolor += arc(resolution/2.,vec4(0.0,PI/2.,96,112),time/1.75,p);\n\tcolor += arc(resolution/2.,vec4(0.0,PI/2.,112,128),time/2.0,p);\n\t\n\tgl_FragColor = vec4(vec3(color),1.0);\n}\n\nfloat arc(vec2 pos,vec4 btrir,float ang,vec2 p)\n{\n\tvec2 c = resolution/2.;\n\t\n\tfloat d = distance(p,vec2(c));\n\t\n\tfloat a = atan(p.x-c.x,p.y-c.y)+PI+ang;\n\t\n\ta = mod(a,TAU);\n\t\n\tfloat color = 0.0;\n\t\n\tif(a > btrir.x && a < btrir.y && d > btrir.z && d < btrir.w)\n\t{\n\t\tfloat diff = d-btrir.z;\n\t\tfloat rtrn = smoothstep(0.0,1.0,pow(sin(diff/16.*PI),0.25));\n\t\t\n\t\tfloat eb = 32.0;\n\t\tif(a < btrir.x+(PI/eb))\n\t\t{\n\t\t\trtrn *= smoothstep(0.0,1.0,a/(PI/eb));\n\t\t}\n\t\t\t\t\n\t\tif(a > btrir.y-(PI/eb))\n\t\t{\n\t\t\tfloat ad = a - (btrir.y-(PI/eb));\n\t\t\trtrn *= smoothstep(1.0,0.0,ad/(PI/eb));\n\t\t}\n\t\treturn rtrn;\n\t}\n\t\n\treturn 0.0;\n}\n\n", "user": "ea99a93", "parent": "/e#4320.4", "id": "4747.0"}