{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nfloat k_e = 8.99E9;\n\nfloat charge_a = 1E-11;\nvec2 point_a = vec2(0.5, 0.5);\n\nfloat charge_b = -1E-11;\n\nvec4 hue(float angle)\n{\n\tfloat alpha = mod(angle, 60.0)/60.0;\n\tvec4 from = vec4(1.0, 0.0, 0.0, 1.0);\n\tvec4 to = vec4(1.0, 1.0, 0.0, 1.0);\n\tif(angle > 60.0)\n\t{\n\t\tfrom = vec4(1.0, 1.0, 0.0, 1.0);\n\t\tto = vec4(0.0, 1.0, 0.0, 1.0);\n\t}\n\tif(angle > 120.0)\n\t{\n\t\tfrom = vec4(0.0, 1.0, 0.0, 1.0);\n\t\tto = vec4(0.0, 1.0, 1.0, 1.0);\n\t}\n\tif(angle > 180.0)\n\t{\n\t\tfrom = vec4(0.0, 1.0, 1.0, 1.0);\n\t\tto = vec4(0.0, 0.0, 1.0, 1.0);\n\t}\n\tif(angle > 240.0)\n\t{\n\t\tfrom = vec4(0.0, 0.0, 1.0, 1.0);\n\t\tto = vec4(1.0, 0.0, 1.0, 1.0);\n\t}\n\tif(angle > 300.0)\n\t{\n\t\tfrom = vec4(1.0, 0.0, 1.0, 1.0);\n\t\tto = vec4(1.0, 0.0, 0.0, 1.0);\n\t}\n\treturn mix(from, to, alpha);\n}\n\t\nvec2 coulomb(float q, vec2 source, vec2 test)\n{\n\tvec2 diff = test - source;\n\tfloat dist = length(diff);\n\treturn (k_e * q /(dist * dist)) * diff;\n}\n\nvoid main( void ) {\n\n\tvec2 position = ( gl_FragCoord.xy / resolution.xy );\n\n\tvec2 field = coulomb(charge_a, point_a, position) + coulomb(charge_b, mouse, position);\n\t\n\tvec4 base_color = vec4(0.0, 0.5, 0.5, 1.0);\n\n\tgl_FragColor = length(field) * hue(degrees(atan(field.y, field.x)) + 180.0);\n\n}", "user": "6911027", "parent": "/e#26596.0", "id": "26600.1"}