{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define SUPERSAMPLE \t8\n#define MAXDIST\t\t0.01\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nvec3 tex(vec2 uv, vec3 col1, vec3 col2)\n{\n\treturn (mod(floor(uv.x) + floor(uv.y), 2.0)==0.0?col1:col2);\t\n}\n\nvoid main( void ) {\n\n\tvec2 position = ( gl_FragCoord.xy / resolution.xy ) - vec2(0.5, 0.5); position.x *= resolution.x/resolution.y;\n\tvec2 uv = position*5.0;\n\tuv*=0.5 + mouse.x;\n\tuv.x += sin(length(uv+time))*(sin(time*2.0)+1.0)*0.5;\n\tuv.y += cos(length(uv+time))*0.4;\n\t\n\t\n\t// Don't leave this uninitialized, that's not portable.\n\tvec3 color = vec3(0);\n\tfloat d = MAXDIST / float(SUPERSAMPLE) * (0.5 + mouse.x);\n\tfor(int x = 0; x < SUPERSAMPLE; x++){\n\t\tfor(int y = 0; y < SUPERSAMPLE; y++){\n\t\t\tcolor += tex(uv + vec2(float(x)*d, float(y)*d), vec3(0.7, 0.1, 0.1), vec3(1.0, 1.0, 1.0));\n\t\t}\n\t}\n\tcolor /= float(SUPERSAMPLE * SUPERSAMPLE);\n\tgl_FragColor = vec4(color, 1.0 );\n\n}", "user": "999be4b", "parent": "/e#26371.7", "id": "26430.0"}