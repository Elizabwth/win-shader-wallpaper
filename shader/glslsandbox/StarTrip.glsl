{"code": "\n// StarTrip\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n#define speed 15.\n#define k2PI (2.*3.14159265359)\n#define kStarDensity .1\n#define kMotionBlur 0.6\n#define kNumAngles 200.\n\nvoid main( void )\n{\n\tvec2 position = ( gl_FragCoord.xy -  resolution.xy*.5 ) / resolution.x;\n\tposition += mouse - 0.5; // use this for mouse panning\n\n\tfloat A = atan(position.y,position.x);\n\tfloat angle0 = A / k2PI;\n\tfloat angle = fract(angle0 + .1*time);\n\tfloat rad = cos(time)*length(position);\n\tfloat angleFract = fract(angle*kNumAngles);\n\tfloat angleStep = floor(angle*kNumAngles);\n\tfloat angleToRandZ = 10.*fract(angleStep*fract(angleStep*.7535)*45.1);\n\tfloat angleSquareDist = fract(angleStep*fract(angleStep*.82657)*13.724);\n\tfloat t = speed * time - angleToRandZ;\n\tfloat angleDist = (angleSquareDist+0.1);\n\tfloat adist = angleDist/rad*kStarDensity;\n\tfloat dist = abs(fract((t*.1+adist))-.5);\n\tfloat white1 = max(0.,1.0 - dist * 100.0 / (kMotionBlur*speed+adist));\n\tfloat white2 = max(0.,(.5-.5*cos(k2PI * angleFract))*1./max(0.6,2.*adist*angleDist));\n\tfloat white = white1*white2;\n\tvec3 color;\n\tcolor.r = .03*white1 + white*(0.3 + 5.0*angleDist);\n\tcolor.b = white*(0.1 + .5*angleToRandZ);\n\tcolor.g = 1.5*white;\n\t\n\tfloat nebD1 = 1.0/rad + 4.5*(1.0 + sin(1.1 + 3.0*A + 0.71*cos(2.0*A)));\n\tfloat nebD2 = 1.0/rad + 3.7*(1.0 + sin(3.7 + 2.0*A + 0.46*sin(3.0*A)));\n\tfloat R1 = 1.0 * rad * (1.0 + sin(0.3+3.0*A + 2.4 * cos(0.2+3.0*A)*sin(2.1+0.42*(nebD1+speed*time)) + sin(2.0*6.283*position.x) ));\n\tfloat R2 = 1.0 * rad * (1.0 + sin(1.1+4.0*A + 3.2 * cos(0.7+4.0*A)*sin(1.7+0.27*(nebD2+speed*time)) + cos(3.0*6.283*position.y) ));\n\tfloat P1 = 0.5 + .5*sin(5.7*position.x+.22*(speed*time));\n\tfloat P2 = 0.5 + .5*sin(4.44*position.y+.17*(speed*time)) ;\n\tcolor.r += 0.6*R1 + 0.3*R2 + 0.1*P1*P2;\n\tcolor.b += 0.3*R1 + 0.8*R2 + .1*P2*R1;\n\tcolor.g += 1.1*R1*R2*P2;\n\tgl_FragColor = vec4( color, 1.0);\n}", "user": "9d8f762", "parent": "/e#30687.0", "id": "30733.1"}