{"code": "/*\n * Original shader from: https://www.shadertoy.com/view/MsycRV\n */\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// glslsandbox uniforms\nuniform float time;\nuniform vec2 resolution;\n\n// shadertoy globals\nfloat iTime;\nvec3  iResolution;\n\n// --------[ Original ShaderToy begins here ]---------- //\nfloat gradient(vec2 point, vec2 origin, vec2 dir) {\n    return clamp(dot(point - origin, dir) + 0.5, 0.0, 1.0);\n}\n\nfloat plasma(vec2 p, float offset) {\n    vec2 point = p * 2.0;\n    float plsm = 1.0;\n    for(float i = 0.0; i < 30.0; i++) {\n        float t1 = iTime * 0.04 + offset;\n        float t2 = iTime * 0.08 + offset;\n        vec2 origin = vec2(cos(i+t1), sin(i+t1));\n        vec2 dir = vec2(cos(i*3.0 + t2), sin(i*2.0 + t2));\n        plsm = abs(plsm - gradient(point, origin, dir));\n    }\n    return plsm;\n}\n\nvec2 rotate(vec2 point, float angle) {\n    return vec2(  point.x * cos(angle) + point.y * sin(angle),\n                - point.x * sin(angle) + point.y * cos(angle) );\n}\n\nfloat smin( float a, float b, float k )\n{\n    // if (k == 0.0) return min(a,b);\n    float h = clamp( 0.5+0.5*(b-a)/k, 0.0, 1.0 );\n    return mix( b, a, h ) - k*h*(1.0-h);\n}\n\nfloat hexpart(vec2 p) {\n    vec2 point = p + vec2(0.5, 0.0);\n    float x = point.x - floor(point.x);\n    float fac = 0.289;\n    float yy = point.y*fac + mod(floor(point.x), 2.0)*0.5;\n    float y = yy - floor(yy);\n    return max(abs(x - 0.5) - 0.08, abs(y-0.5)/fac - 0.6);\n}\n\nfloat hexagons(vec2 point) {\n    return smin(smin(\n        hexpart(point),\n        hexpart(rotate(point, 3.141*1.0/3.0)), 0.1),\n        hexpart(rotate(point, 3.141*2.0/3.0)), 0.1\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 framecoords = (fragCoord-iResolution.xy/2.0)/iResolution.yy;\n    \n    vec2 uv = rotate(framecoords, cos(iTime*0.054)*5.0+cos(iTime*0.013)*10.0)*(1.0+cos(iTime*0.67)*0.5);\n    uv += vec2(cos(iTime*0.05*2.0), sin(iTime*0.05*3.0))*0.5;\n    \n    float hexmult = 20.0;\n    float hex = hexagons(uv*hexmult);\n    \n    if ( hex < 0.0) {\n        uv += vec2(-0.005,0.005);\n    }\n\t\n    float pls = plasma(uv, 0.0);\n    float plshighlight = pow(pls, 2.0);\n    for (float i = 0.0; i < 2.0; i++) {\n        for (float j = 0.0; j < 2.0; j++) {\n            vec2 coord = vec2(i,j)*2.0 - 1.0;\n            plshighlight += pow(plasma(uv + coord*0.005, 0.0), 2.0);\n        }\n    }\n    plshighlight = 1.0 - pls/sqrt(plshighlight)*2.0;\n\n\n    // Time varying pixel color\n    float col = (1.0-pls)*0.8;\n    col += max(0.0,plshighlight)*0.5;\n    \n    if ( hex < 0.0) {\n        hex += hexagons((uv + vec2(-0.005,0.005))*hexmult);\n        col *= mix(1.0, -hex*5.0, 0.5);\n    }\n    // Output to screen\n    fragColor = vec4(col, 0.04,0.11,0.0);\n}\n// --------[ Original ShaderToy ends here ]---------- //\n\nvoid main(void)\n{\n    iTime = time;\n    iResolution = vec3(resolution, 0.0);\n\n    mainImage(gl_FragColor, gl_FragCoord.xy);\n    gl_FragColor.a = 1.0;\n}", "user": "52f162d", "parent": null, "id": "46202.0"}