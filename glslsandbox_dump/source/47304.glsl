{"code": "//Added pan/zoom using mouse left/right click\nprecision mediump float;\n\nuniform vec2 resolution;\nuniform float time;\nvarying vec2 surfacePosition;\n\nconst int iterations = 2200;\nconst float radius = 4.;\n\nconst float f_cx = -0.5;\nconst float f_cy = 0.;\nconst float f_sx = -0.01;\nconst float f_sy = .01;\nconst float f_z = 1.;\n\nint fmandel(void)\n{\n  vec2 c = surfacePosition;\n  vec2 z = c;\n\n  for(int n = 0; n < iterations; ++n) {\n    z = vec2(z.x * z.x - z.y * z.y, (2.0/(time/100.0)) * z.x * z.y) + c;\n    if((z.x*z.x + z.y*z.y) > radius) {\n      return n;\n    }\n  }\n  return 0;\n}\n\nvoid main()\n{\n  int n = fmandel(); \n\n  gl_FragColor = vec4((-cos(0.025*float(n))+1.0)/2.0,\n                      (-cos(0.08*float(n))+1.0)/2.0,\n                      (-cos(0.12*float(n))+1.0)/2.0,\n                      1.0);\n}\n", "user": "230f877", "parent": "/e#44876.1", "id": 47304}