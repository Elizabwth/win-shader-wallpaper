{"code": "precision highp float;\nvarying vec3 fNormal;\nvarying vec3 worldPos;\nvarying vec3 localPos;\n\nfloat pulse(float val, float dst) {\n  return floor(mod(val*dst,1.0)+.5);\n}\n\nvoid main()\n{\n  vec3 dir = vec3(0,1,0); // high noon\n  \n  vec3 cpos = localPos;\n\n  vec3 color = vec3(1, pulse(cpos.y,10.0),1); \n\n  float diffuse = .5 + dot(fNormal,dir);\n  gl_FragColor = vec4(diffuse * color, 1.0);\n}\n\n", "user": "bd499ee", "parent": null, "id": 47474}