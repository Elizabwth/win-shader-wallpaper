{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#extension GL_OES_standard_derivatives : enable\n\n#define PI 3.1415926535897932384626433832795\n\nuniform vec2 resolution;\nuniform float time;\nuniform vec2 mouse;\n\nvec4 ccol(float hue) {\n\treturn vec4((1. + vec3(sin(hue), sin(hue + 2. * PI / 3.), sin(hue + 4. * PI / 3.))) / 2., 1.);\n}\n\nvec2 cmul(vec2 a, vec2 b) {\n\treturn vec2(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x);\n}\n\nvec2 car(float a, float r) {\n\treturn vec2(cos(a), sin(a)) * r;\n}\n\nvoid main(void) {\n\tvec2 position = 2. * gl_FragCoord.xy / resolution.yy - vec2(resolution.x / resolution.y, 1.);\n\t\n\tint i;\n\n\t// vec2 mult = vec2(2., mod(time, 10.) - 5.);\n\t// vec2 work = position;\n\t\n\tfloat angle = PI / 6.;\n\t\n\tvec2 work = car(mod(time, 10.) / 5. * PI, mod(time, 10000.) / 10000.);\n\tvec2 mult = position * 2.;\n\n\tfor( int j = 0 ; j < 1000 ; j++ ) {\n\t\twork = cmul(mult, cmul(work, vec2(1., 0.) - work));\n\t\ti = j;\n\t\t\n\t\tif( length(work) > 2. )\n\t\t\tbreak;\n\t}\n\n\tgl_FragColor = ccol(float(i) / 10.);\n}", "user": "28430d7", "parent": null, "id": 47074}