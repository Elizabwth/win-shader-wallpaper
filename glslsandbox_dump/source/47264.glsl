{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#extension GL_OES_standard_derivatives : enable\n\n//Shitty fireworks by czpal\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\n\nfloat tb = 2.0;\n\n\n\nvec4 getFirework(float t)\n{\n\tfloat tmp = mod(t,tb);\n\tfloat x = (cos(floor(t/tb)*3.234)+1.5)/3.0;\n\treturn vec4(x, (log(tmp*6.0)/tb)*0.5, tmp, floor(t/tb));\n}\n\nvec3 getColor(float tmp)\n{\n\treturn vec3(cos(tmp), sin(tmp), cos(tmp*tmp));\n}\n\n\n\nvoid main( void ) \n{\n\tvec2 position = ( gl_FragCoord.xy / resolution.xy );\n\t\n\t\n\t\n\tvec4 firework = getFirework(time);\n\t\n\tvec3 value = getColor(firework.w);\n\tif(firework.z<tb*0.6)\n\t\tvalue *= 0.001/distance(position, firework.xy);\n\telse\n\t{\n\t\tvec2 tmp1 = position - firework.xy;\n\t\tfloat tmp2 = atan(tmp1.y, tmp1.x);\n\t\t\n\t\tvalue *= (0.01/distance(position, firework.xy)) * sin((firework.z-tb*0.6)*3.0);\n\t\tvalue *= (sin(tmp2*firework.z*20.0)+1.0)*0.5;\n\t}\n\t\t\n\t\n\tgl_FragColor = vec4(value,1);\n\n}", "user": "5d59050", "parent": null, "id": 47264}