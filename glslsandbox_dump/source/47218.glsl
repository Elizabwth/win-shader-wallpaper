{"code": "// work in progress, made by dr1ft\n// only saving so i can show my friends :)\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 resolution;\n\nconst float max_depth = 7.0;\nconst float speed = 1.;\n\nvec2 waver(float x){\n\tfloat freq = 0.2;\n\treturn vec2(cos(x*freq),sin(x*freq))*0.8;\n}\n\nvec2 checkerboard (vec2 offset, float depth){\n\tdepth = mod(depth,max_depth)*4.0;\n\tvec2 position = (gl_FragCoord.xy / vec2(resolution.x) - vec2(0.5,0.25)) * vec2(depth) + offset;\n\tposition += waver(depth*0.15+time*1.4);\n\treturn vec2(clamp(sign((mod(position.x, 1.0) - 0.5) * (mod(position.y, 1.0) - 0.5)) / depth * 2.0,0.0,1.0),depth);\n}\n\nvoid main( void ) {\n\t\n\tvec3 color = vec3(0.0);\n\t//float color = 0.0;\n\tfor (float i = 0.0; i < max_depth; i++){\n\t\tfloat d = i-time*speed;\n\t\tvec2 n=checkerboard(vec2(0.25,0.75), d);\n\t\t//if (n.x>color) color=n.x;\n\t\tif(n.x<=28.0 && n.x>24.0) color = vec3(n.x,0.0,0.0);\n\t\tif(n.x<=24.0 && n.x>20.0) color = vec3(0.0,n.x,0.0);\n\t\tif(n.x<=20.0 && n.x>16.0) color = vec3(0.0,0.0,n.x);\n\t\tif(n.x<=16.0 && n.x>12.0) color = vec3(n.x,n.x,0.0);\n\t\tif(n.x<=12.0 && n.x>8.0) color = vec3(0.0,n.x,n.x);\n\t\tif(n.x<=8.0 && n.x>4.0) color = vec3(n.x,0.0,n.x);\n\t\tif(n.x<=4.0 && n.x>0.0) color = vec3(n.x,n.x,0.0);\n\t}\n\tgl_FragColor = vec4(vec3(color),1.0);\t\n\t//gl_FragColor = vec4(color,1.0);\n\n}", "user": "e5345cf", "parent": "/e#47133.5", "id": 47218}