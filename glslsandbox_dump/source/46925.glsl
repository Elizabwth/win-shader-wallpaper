{"code": "// Tenjix\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.1415926535897932384626433832795\n\nuniform float time;\nuniform vec2 resolution;\nvarying vec2 surfacePosition;\n\n#define position (0.0+0.1*cos(time+gl_FragCoord.x)/(1.+cos(time/24.+dot(surfacePosition,surfacePosition)/24.)))\nconst float scale = 0.22;\nconst float intensity = 0.5;\nconst float speed = 0.2;\n\nfloat band(vec2 pos, float amplitude, float frequency) {\n\tfloat wave = scale * amplitude * asin(sin(0.0003 * PI * frequency * pos.x + time * speed)) / PI;\n\tfloat light = clamp(amplitude * frequency * 3.002, 2.001 + 0.201 / scale, 5.0) * scale / abs(wave - pos.y);\n\treturn light;\n}\n\nvoid main( void ) {\n\n\tvec3 color = vec3(0.2, 0.2, 4.5);\n\tcolor = color == vec3(0.0)? vec3(0.5, 0.5, 1.0) : color;\n\tvec2 pos = (gl_FragCoord.xy / resolution.xy);\n\tpos.y += - 0.5 - position;\n\t\n\tfloat spectrum = 0.027;\n\n\tpos.y += band(pos, 0.1, 10.0);\n\tpos.x += band(-pos, 0.2, 8.0);\n\tpos.y -= band(-pos, 0.3, 5.0);\n\tpos.x -= band(pos, 0.5, 3.0);\n\tspectrum += band(-pos, 0.08, 1.5);\n\tspectrum += band(pos, 0.1, 1.0);\n\t\n\tgl_FragColor = vec4(color * spectrum, spectrum);\n\t\n}", "user": "6ad192b", "parent": "/e#46803.3", "id": 46925}