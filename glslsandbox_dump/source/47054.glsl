{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#extension GL_OES_standard_derivatives : enable\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nfloat stripes(float width, float gap, float x) {\n    return 1.0 - step(width, mod(x, gap + width));\n}\n\nstruct Herringbone {\n    int factor;\n    int gap;\n};\n\nfloat herringbone_half_sample(Herringbone herringbone, vec2 uv) {\n    float height = 0.25 / float(herringbone.factor) * 2.0;\n    float gap = float(herringbone.gap) / resolution.y;\n\n    float offset = uv.x + uv.y - mod(uv.y, height);\n\n    return stripes(0.5, 0.5, offset)\n\t* stripes(height - gap, gap, uv.y)\n\t* stripes(0.5 - gap, gap, offset);\n\n}\n\nvec4 herringbone_sample(Herringbone herringbone, vec2 uv) {\n    float mask_1 = herringbone_half_sample(herringbone, uv);\n    float mask_2 = herringbone_half_sample(herringbone, uv.yx + vec2(0.5, 0.0));\n    return vec4(mask_1 + mask_2, mask_1, mask_2, 1.0);\n}\n\nvoid main() {\n    Herringbone herringbone = Herringbone(5, 1);\n    gl_FragColor = vec4(herringbone_sample(herringbone, gl_FragCoord.xy / resolution.yy));\n}", "user": "32bb8ad", "parent": null, "id": 47054}