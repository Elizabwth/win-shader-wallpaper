{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\nvarying vec2 surfacePosition;\n\nvec3 getColor(float phase);\n\n#define stripes 1.\n#define k 4.\n#define sx surfacePosition.x\n#define sy surfacePosition.y\n\nfloat PI = 4.*atan(1.);\n\nvoid main(void) {\n\tvec3 c = getColor(time*0.7*PI);\n\tgl_FragColor = vec4(c, 1.0);\n\n}\n\nvec3 getColor(float phase) {\n\tfloat x = sx*0.03;\n\tfloat y = sy*0.03;\n\tfloat theta = atan(y, x) * 1.;\n\tfloat r = log(x*x + y*y) ;//(mouse.x*2.);\n\tfloat c = 0.;\n\tfloat tt;\n\tfor (float t=0.; t<k; t++) {\n\t\tfloat tt = t * PI;\n\t\tc += cos((theta*cos(tt) - r*sin(t)) * stripes + phase);\n\t}\n\t//c = (c+k) / (k*2.);\n\t//c = c > 0.5 ? 1. : 0.;\n\tc/=k/2.;\n\treturn vec3(abs(c), c*c, -c);\n\t//return vec3(c, c, c);\n\n}", "user": "97e4020", "parent": "/e#39957.0", "id": 47485}