{"code": "/*\nEye of Sauron \n\nInspired by IQ\n\nZiad 2/6/2018\n\nColors can be improved\n*/\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#extension GL_OES_standard_derivatives : enable\n\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\n\nmat2 m =mat2(0.8,0.6, -0.6, 0.8);\n\nfloat rand(vec2 n) { \n\treturn fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n}\n\nfloat noise(vec2 n) {\n\tconst vec2 d = vec2(0.0, 1.0);\n  \tvec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n\treturn mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n}\n\nfloat fbm(vec2 p){\n\tfloat f=.0;\n\tf+= .5000*noise(p); p*= m*2.02;\n\tf+= .2500*noise(p); p*= m*2.03;\n\tf+= .1250*noise(p); p*= m*2.01;\n\tf+= .0625*noise(p); p*= m*2.04;\n\t\n\tf/= 0.9375;\n\t\n\treturn f;\n}\n\n\nvoid main( void ) {\n\tvec2 q = gl_FragCoord.xy/resolution.xy;\n\tvec2 p = -1.0+ 2.0*q;\n\tp.x *= resolution.x/resolution.y;\n\t\n\tvec3 background=smoothstep(.1,.5,vec3(.9,.4,.4));\n\t\n\tfloat r = sqrt(dot(p,p));\n\tfloat a = atan(p.y,p.x);\n\tfloat e = sqrt((p.x)*(p.x)/(p.y+.8)/(.8-p.y) );\n\t\n\tfloat f = fbm(4.0*p);\n\t\n\tvec3 col = vec3(1.);\n\t\n\tfloat ss=.5+0.5*sin(3.*time);\n\tfloat anim =1. + 0.1*ss*clamp(1.-r,.0,1.);\n\tr*=anim;\n\t\n\tif( r<0.8){\n\t\tcol = vec3(.7,0.1,0.1);\n\t\t\n\t\tfloat f = 0.4*fbm(20.*p);\n\t\t\n\t\tcol = mix( col, vec3(0.5,0.4,0.3),f);\n\t\t\n\t\tf = 1.- smoothstep(0.1,0.5,e); \n\t\tcol = mix( col, vec3(1.,1.,0.39), f );\n\t\t\n\t\ta +=.05*fbm(20.0*p);\n\t\t\n\t\tf = smoothstep( 0.6, 1., fbm(vec2(5.0*e,50.0*a)));\n\t\tcol = mix(col, vec3 (1.0,.5,.5), f);\n\t\t\n\t\tf = smoothstep( .1, .9, fbm( vec2(10.*r,15.*a)));\n\t\tcol *= 1.- .5*f;\n\t\t\n\t\tf = smoothstep(0.6,0.8, r); \n\t\tcol*= .7 - .5*f;\n\t\t\n\t\tf = smoothstep(0.1,0.15, e); \n\t\tcol*= f;\n\t\t\n\t\tf = smoothstep(.5,.8, r);\n\t\tcol = mix( col,vec3(1.,.7,.39), f*.5);\n\t\t\n\t\tf= 1. - smoothstep( .001, .09, length( p- vec2(-0.05,0.3)));\n\t\tcol += vec3(1.)*f*0.4;\n\t\t\n\t\tf = smoothstep(.7,.8, r);\n\t\tcol = smoothstep(.01,.9, mix( col,vec3(2.), .4*f));\n\t}\n\t\n\tgl_FragColor=vec4(col*background, 1.);\n\n}", "user": "57f7a25", "parent": null, "id": 47284}