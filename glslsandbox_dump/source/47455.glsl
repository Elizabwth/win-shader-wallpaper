{"code": "#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#extension GL_OES_standard_derivatives : enable\n\n//author: tigrou dot ind at gmail dot com\nuniform vec2 resolution;\nuniform float time;\n\nfloat tri(vec2 position)\n{\n\tfloat color = 0.0;\n\tfloat a = -(position.x * sqrt(3.0) -0.2) - position.y;\n\tfloat b = position.x * sqrt(3.0) - position.y + 0.2;\n\tfloat c = position.y + 0.1;\n\t\n\tfloat result = min(min(a, b), c);\n\tif(result > 0.0) return 1.0;\n\treturn -1.0;\n}\n\nvoid main( void ) {\n\n\tvec2 pos = ( gl_FragCoord.xy / resolution.xy ) - vec2(0.5, 0.5);\n\t\t\t\n        pos = vec2(pos.x * cos(time) - pos.y * sin(time), \n\t\t   pos.y * cos(time) + pos.x * sin(time));\n\t\n\tfloat zoom = 1.0/(mod(time, 1.0)+1.0)*3.0-1.0;\n\tpos *= zoom;\n        \n\tvec2 invpos = vec2(pos.x, -pos.y);\n\t\n\tfloat result = tri(pos*0.0625)\n\t\t      *tri(invpos*0.125)\n\t\t      *tri(pos*0.25)\n\t\t      *tri(invpos*0.5)\n\t\t      *tri(pos)\n\t\t      *tri(invpos*2.0)\n\t\t      *tri(pos*4.0)\n\t\t      *tri(invpos*8.0)\n\t\t      *tri(pos*16.0)\n\t\t      *tri(invpos*32.0)\n\t\t      *tri(pos*64.0);\n\t\n        if(result < 0.0) result = 0.0;\t\n\t\n\tgl_FragColor = vec4( mix(vec3(0.5, 0.0, 1.0), vec3(0.0,0.0,0.0), result), 1.0 );\n\n}", "user": "2beaa45", "parent": null, "id": 47455}